#############################################################################
#							Name											#
#############################################################################

NAME		=	phonebook

#############################################################################
#							Directories										#
#############################################################################

MDIR		=
INCDIR		=	/includes
OBJDIR      =   .obj/

#############################################################################
#							Files											#
#############################################################################

MFLS		=	Contact.cpp PhoneBook.cpp main.cpp
MSRC		=	$(addprefix $(MDIR), $(MFLS))
MOBJS		=	$(MSRC:.cpp=.o)
MOBJS		:=	$(addprefix $(OBJDIR), $(notdir $(MOBJS)))

#############################################################################
#							Compiler settings								#
#############################################################################

CC			=	c++
CFLAGS		=	-Wall -Werror -Wextra -std=c++98
CFLAGS		+=	-I$(INCDIR)

#############################################################################
#							Clean up										#
#############################################################################

RM			=	rm -rf

all:			$(NAME)

$(OBJDIR)%.o:	%.cpp
				@mkdir -p $(OBJDIR)
				@$(CC) $(CFLAGS) -c $< -o $@

$(NAME):		$(MOBJS)
				@echo "\e[35mCompiling\e[0m $(*F)"
				@$(CC) $(MOBJS) -o $(NAME)
				@echo "\e[32mDone!\e[0m"

clean:
				@$(RM) $(OBJDIR)

fclean:			clean
				@$(RM) $(NAME)

re:				fclean all

.PHONY:			all clean fclean re
